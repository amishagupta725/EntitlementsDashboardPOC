{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AMISHA\\\\Desktop\\\\Web_Development_Projects\\\\Analytics_Dashboard_React\\\\client\\\\src\\\\components\\\\Charts\\\\Bargraph.js\",\n    _s = $RefreshSig$();\n\nimport * as d3 from 'd3';\nimport React, { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Bargraph = ({\n  width,\n  height,\n  fetcheddata\n}) => {\n  _s();\n\n  const ref = useRef();\n  useEffect(() => {\n    const svg = d3.select(ref.current).attr(\"width\", width).attr(\"height\", height).style(\"border\", \"1px solid black\");\n  }, []);\n  useEffect(() => {\n    draw();\n  }, [fetcheddata.aggregations]);\n\n  const draw = () => {\n    const svg = d3.select(ref.current);\n    var selection = svg.selectAll(\"rect\").data(fetcheddata.aggregations);\n    var yScale = d3.scaleLinear().domain([0, d3.max(fetcheddata.aggregations)]).range([0, height - 100]);\n    selection.transition().duration(300).attr(\"height\", d => yScale(d)).attr(\"y\", d => height - yScale(d));\n    selection.enter().append(\"rect\").attr(\"x\", (d, i) => i * 45).attr(\"y\", d => height).attr(\"width\", 40).attr(\"height\", 0).attr(\"fill\", \"orange\").transition().duration(300).attr(\"height\", d => yScale(d)).attr(\"y\", d => height - yScale(d));\n    selection.exit().transition().duration(300).attr(\"y\", d => height).attr(\"height\", 0).remove();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart\",\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Bargraph, \"lq1tzM4DdcBd9rchfALtCTAkzkA=\");\n\n_c = Bargraph;\nexport default Bargraph;\n\nvar _c;\n\n$RefreshReg$(_c, \"Bargraph\");","map":{"version":3,"sources":["C:/Users/AMISHA/Desktop/Web_Development_Projects/Analytics_Dashboard_React/client/src/components/Charts/Bargraph.js"],"names":["d3","React","useRef","useEffect","Bargraph","width","height","fetcheddata","ref","svg","select","current","attr","style","draw","aggregations","selection","selectAll","data","yScale","scaleLinear","domain","max","range","transition","duration","d","enter","append","i","exit","remove"],"mappings":";;;AAAA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;AACA,OAAOC,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC;;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAACC,EAAAA,KAAD;AAAQC,EAAAA,MAAR;AAAgBC,EAAAA;AAAhB,CAAD,KAAkC;AAAA;;AAC/C,QAAMC,GAAG,GAAGN,MAAM,EAAlB;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMM,GAAG,GAAGT,EAAE,CAACU,MAAH,CAAUF,GAAG,CAACG,OAAd,EACPC,IADO,CACF,OADE,EACOP,KADP,EAEPO,IAFO,CAEF,QAFE,EAEQN,MAFR,EAGPO,KAHO,CAGD,QAHC,EAGS,iBAHT,CAAZ;AAIH,GALQ,EAKN,EALM,CAAT;AAOAV,EAAAA,SAAS,CAAC,MAAM;AACZW,IAAAA,IAAI;AACP,GAFQ,EAEN,CAACP,WAAW,CAACQ,YAAb,CAFM,CAAT;;AAIA,QAAMD,IAAI,GAAG,MAAM;AAEf,UAAML,GAAG,GAAGT,EAAE,CAACU,MAAH,CAAUF,GAAG,CAACG,OAAd,CAAZ;AACA,QAAIK,SAAS,GAAGP,GAAG,CAACQ,SAAJ,CAAc,MAAd,EAAsBC,IAAtB,CAA2BX,WAAW,CAACQ,YAAvC,CAAhB;AACA,QAAII,MAAM,GAAGnB,EAAE,CAACoB,WAAH,GACQC,MADR,CACe,CAAC,CAAD,EAAIrB,EAAE,CAACsB,GAAH,CAAOf,WAAW,CAACQ,YAAnB,CAAJ,CADf,EAEQQ,KAFR,CAEc,CAAC,CAAD,EAAIjB,MAAM,GAAC,GAAX,CAFd,CAAb;AAIAU,IAAAA,SAAS,CACJQ,UADL,GACkBC,QADlB,CAC2B,GAD3B,EAESb,IAFT,CAEc,QAFd,EAEyBc,CAAD,IAAOP,MAAM,CAACO,CAAD,CAFrC,EAGSd,IAHT,CAGc,GAHd,EAGoBc,CAAD,IAAOpB,MAAM,GAAGa,MAAM,CAACO,CAAD,CAHzC;AAKAV,IAAAA,SAAS,CACJW,KADL,GAEKC,MAFL,CAEY,MAFZ,EAGKhB,IAHL,CAGU,GAHV,EAGe,CAACc,CAAD,EAAIG,CAAJ,KAAUA,CAAC,GAAG,EAH7B,EAIKjB,IAJL,CAIU,GAJV,EAIgBc,CAAD,IAAOpB,MAJtB,EAKKM,IALL,CAKU,OALV,EAKmB,EALnB,EAMKA,IANL,CAMU,QANV,EAMoB,CANpB,EAOKA,IAPL,CAOU,MAPV,EAOkB,QAPlB,EAQKY,UARL,GAQkBC,QARlB,CAQ2B,GAR3B,EASSb,IATT,CASc,QATd,EASyBc,CAAD,IAAOP,MAAM,CAACO,CAAD,CATrC,EAUSd,IAVT,CAUc,GAVd,EAUoBc,CAAD,IAAOpB,MAAM,GAAGa,MAAM,CAACO,CAAD,CAVzC;AAYAV,IAAAA,SAAS,CACJc,IADL,GAEKN,UAFL,GAEkBC,QAFlB,CAE2B,GAF3B,EAGSb,IAHT,CAGc,GAHd,EAGoBc,CAAD,IAAOpB,MAH1B,EAISM,IAJT,CAIc,QAJd,EAIwB,CAJxB,EAKKmB,MALL;AAMH,GA/BD;;AAkCA,sBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA,2BACI;AAAK,MAAA,GAAG,EAAEvB;AAAV;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CAxDD;;GAAMJ,Q;;KAAAA,Q;AA0DN,eAAeA,QAAf","sourcesContent":["import * as d3 from 'd3';\r\nimport React, { useRef, useEffect } from 'react';\r\n\r\nconst Bargraph = ({width, height, fetcheddata}) => {\r\n    const ref = useRef();\r\n\r\n    useEffect(() => {\r\n        const svg = d3.select(ref.current)\r\n            .attr(\"width\", width)\r\n            .attr(\"height\", height)\r\n            .style(\"border\", \"1px solid black\")\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        draw();\r\n    }, [fetcheddata.aggregations]);\r\n\r\n    const draw = () => {\r\n        \r\n        const svg = d3.select(ref.current);\r\n        var selection = svg.selectAll(\"rect\").data(fetcheddata.aggregations);\r\n        var yScale = d3.scaleLinear()\r\n                            .domain([0, d3.max(fetcheddata.aggregations)])\r\n                            .range([0, height-100]);\r\n        \r\n        selection\r\n            .transition().duration(300)\r\n                .attr(\"height\", (d) => yScale(d))\r\n                .attr(\"y\", (d) => height - yScale(d))\r\n\r\n        selection\r\n            .enter()\r\n            .append(\"rect\")\r\n            .attr(\"x\", (d, i) => i * 45)\r\n            .attr(\"y\", (d) => height)\r\n            .attr(\"width\", 40)\r\n            .attr(\"height\", 0)\r\n            .attr(\"fill\", \"orange\")\r\n            .transition().duration(300)\r\n                .attr(\"height\", (d) => yScale(d))\r\n                .attr(\"y\", (d) => height - yScale(d))\r\n        \r\n        selection\r\n            .exit()\r\n            .transition().duration(300)\r\n                .attr(\"y\", (d) => height)\r\n                .attr(\"height\", 0)\r\n            .remove()\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"chart\">\r\n            <svg ref={ref}>\r\n            </svg>\r\n        </div>\r\n        \r\n    )\r\n\r\n}\r\n\r\nexport default Bargraph;\r\n"]},"metadata":{},"sourceType":"module"}